<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Documents par machine</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body { font-family: Arial, sans-serif; background: #f4f6f8; padding: 20px; }
h1 { color: #2c3e50; }
h2 { color: #34495e; margin-top: 20px; }
h3 { color: #2c3e50; margin-top: 10px; }
ul { list-style: none; padding-left: 0; }
li { background: #ecf0f1; margin: 8px 0; padding: 10px; border-radius: 5px; }
a { text-decoration: none; color: #2980b9; font-weight: bold; }
a:hover { text-decoration: underline; }
</style>
</head>
<body>

<h1>ğŸ“„ Embouteillage Ligne A</h1>
<div id="content">Chargement...</div>

<script>
const pdfFolder = "pdf/";
const content = document.getElementById("content");

// RÃ©cupÃ©rer la machine depuis l'URL
const params = new URLSearchParams(window.location.search);
const machine = params.get("machine");

// Charger data.json
fetch("data.json")
  .then(res => res.json())
  .then(data => {
    if (!machine || !data[machine]) {
      content.innerHTML = "<p>âŒ Machine non trouvÃ©e ou aucun document disponible</p>";
      return;
    }

    content.innerHTML = `<h2>${machine}</h2>`;

    const machineData = data[machine];
    for (const folder in machineData) {
      const folderTitle = folder || "Documents";
      const h3 = document.createElement("h3");
      h3.textContent = folderTitle;
      content.appendChild(h3);

      const ul = document.createElement("ul");
      machineData[folder].forEach(file => {
        const li = document.createElement("li");
        li.innerHTML = `ğŸ“„ <a href="${pdfFolder}${file}" target="_blank">${file.split("/").pop()}</a>`;
        ul.appendChild(li);
      });
      content.appendChild(ul);
    }
  })
  .catch(() => {
    content.innerHTML = "<p>âŒ Impossible de charger la liste des documents</p>";
  });
</script>

</body>
</html>




